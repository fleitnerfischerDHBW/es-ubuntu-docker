name: publish
on: [push]
jobs:
publish-es-ubuntu-docker-image:
runs-on: ubuntu-latest
steps:
  - uses: actions/checkout@v2

  - name: Login to  Container Registry
  uses: docker/login-action@v2
  with:
    username: ${{ secrets.DOCKERHUB_USERNAME }}
    password: ${{ secrets.DOCKERHUB_TOKEN }}
  
  - name: Build the Docker image
  run: docker build . --file Dockerfile --tag leitnerfischerdhbw/es-ubuntu-x86:latest
  - name: Docker Push
  run: docker push leitnerfischerdhbw/es-ubuntu-x86:latest